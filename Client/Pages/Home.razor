@inject IAuth AuthService;
@inject NavigationManager navMan;
@page "/"
@using Core

<div class="dashboard-container">
    <div class="dashboard-row">
        <div class="dashboard-card">
            <div class="card-header">
                <h3>Overall Rating</h3>
            </div>
            <div class="card-body">
                <div class="rating-big">4.0</div>
                <div class="rating-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star"></i>
                </div>
                <div class="rating-count">468 reviews from last month</div>
                
                <div class="rating-chart">
                    <!-- Simple placeholder for chart -->
                    <div class="chart-line">
                        <div class="chart-dot"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="dashboard-card">
            <div class="card-header">
                <h3>Public Reviews</h3>
                <div class="card-filter">
                    <span>1 year</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
            </div>
            <div class="card-body">
                <div class="reviews-summary">
                    <div class="reviews-total">
                        <div>Total Reviews</div>
                        <div class="reviews-count">3,431</div>
                    </div>
                    <div class="reviews-change positive">
                        <i class="bi bi-arrow-up-short"></i>
                        +1,725
                    </div>
                </div>
                
                <div class="reviews-chart">
                    <!-- Simple placeholder for chart bars -->
                    <div class="chart-bars">
                        <div class="chart-bar"></div>
                        <div class="chart-bar"></div>
                        <div class="chart-bar"></div>
                        <div class="chart-bar"></div>
                        <div class="chart-bar active"></div>
                        <div class="chart-bar active"></div>
                        <div class="chart-bar active"></div>
                        <div class="chart-bar active"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="dashboard-card">
            <div class="card-header">
                <h3>Patient Sentiment</h3>
            </div>
            <div class="card-body">
                <div class="sentiment-gauge">
                    <div class="gauge-indicator">
                        <i class="bi bi-emoji-smile-fill"></i>
                    </div>
                    <div class="gauge-label">Superb!</div>
                </div>
                
                <div class="sentiment-score">
                    <div class="score-percentage">91%</div>
                    <div class="score-description">of patients satisfied with their visit</div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    
    
    private BrugerLoginDTO _currentUser;
    
    protected override async Task OnInitializedAsync()
    {
        _currentUser = await AuthService.GetBruger();
        if (_currentUser == null)
        {
            navMan.NavigateTo("login/");
            return;
        }
    }
 
}